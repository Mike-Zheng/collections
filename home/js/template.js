function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}define("template",function(require,exports,module){function r(e,n){return r["object"==_typeof(n)?"render":"compile"].apply(r,arguments)}(function(T,o){"use strict";T.version="2.0.1",T.openTag="<@",T.closeTag="@>",T.isEscape=!0,T.isCompress=!1,T.parser=null,T.render=function(e,n){var t=r(e);return void 0===t?u({id:e,name:"Render Error",message:"No Template"}):t(n)},T.compile=function(t,r){function e(n){try{return new a(n)+""}catch(e){return o?(e.id=t||r,e.name="Render Error",e.source=r,u(e)):T.compile(t,r,!0)(n)}}var n=arguments,o=n[2],i="anonymous";"string"!=typeof r&&(o=n[1],r=n[0],t=i);try{var a=p(r,o)}catch(e){return e.id=t||r,e.name="Syntax Error",u(e)}return e.prototype=a.prototype,e.toString=function(){return""+a},t!==i&&(c[t]=e),e},T.helper=function(e,n){T.prototype[e]=n},T.onerror=function(e){var n="[template]:\n"+e.id+"\n\n[name]:\n"+e.name;e.message&&(n+="\n\n[message]:\n"+e.message),e.line&&(n+="\n\n[line]:\n"+e.line,n+="\n\n[source]:\n"+e.source.split(/\n/)[e.line-1].replace(/^[\s\t]+/,"")),e.temp&&(n+="\n\n[temp]:\n"+e.temp),o.console&&console.error(n)};var c={},r=function(e){var n=c[e];if(void 0===n&&"document"in o){var t=document.getElementById(e);if(t){var r=t.value||t.innerHTML;return T.compile(e,r.replace(/^\s*|\s*$/g,""))}}else if(c.hasOwnProperty(e))return n},u=function(e){function n(){return n+""}return T.onerror(e),n.toString=function(){return"{Template Error}"},n},p=function(){T.prototype={$render:T.render,$escape:function(e){return"string"==typeof e?e.replace(/&(?![\w#]+;)|[<>"']/g,function(e){return{"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"}[e]}):e},$string:function(e){return"string"==typeof e||"number"==typeof e?e:"function"==typeof e?e():""}};function b(e,n){t.call(e,n)}var t=Array.prototype.forEach||function(e,n){for(var t=this.length>>>0,r=0;r<t;r++)r in this&&e.call(n,this[r],r,this)},w=/\/\*(?:.|\n)*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|'[^']*'|"[^"]*"|[\s\t\n]*\.[\s\t\n]*[$\w\.]+/g,x=/[^\w$]+/g,E=RegExp(["\\b"+"break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined".replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),S=/\b\d[^,]*/g,O=/^,+|,+$/g;return function(e,i){function r(e){return p+=e.split(/\n/).length-1,T.isCompress&&(e=e.replace(/[\n\r\t\s]+/g," ")),e=e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n"),(e=g[1]+"'"+e+"'"+g[2])+"\n"}function o(e){var n,t,r,o=p;return c?e=c(e):i&&(e=e.replace(/\n/g,function(){return"$line="+ ++p+";"})),0===e.indexOf("=")&&(n=0!==e.indexOf("=="),e=e.replace(/^=*|[\s;]*$/g,""),n&&T.isEscape?(t=e.replace(/\s*\([^\)]+\)/,""),l.hasOwnProperty(t)||/^(include|print)$/.test(t)||(e="$escape($string("+e+"))")):e="$string("+e+")",e=g[1]+e+g[2]),i&&(e="$line="+o+";"+e),r=function(e){return(e=e.replace(w,"").replace(x,",").replace(E,"").replace(S,"").replace(O,""))?e.split(/,+/):[]}(r=e),b(r,function(e){var n,t;s.hasOwnProperty(e)||("print"===(n=e)?t=$:"include"===n?(f.$render=l.$render,t=h):(t="$data."+n,l.hasOwnProperty(n)&&(f[n]=l[n],t=0===n.indexOf("$")?"$helpers."+n:t+"===undefined?$helpers."+n+":"+t)),d+=n+"="+t+",",s[e]=!0)}),e+"\n"}var n=T.openTag,a=T.closeTag,c=T.parser,t=e,u="",p=1,s={$data:!0,$helpers:!0,$out:!0,$line:!0},l=T.prototype,f={},d="var $helpers=this,"+(i?"$line=0,":""),y="".trim,g=y?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],m=y?"if(content!==undefined){$out+=content;return content}":"$out.push(content);",$="function(content){"+m+"}",h="function(id,data){if(data===undefined){data=$data}var content=$helpers.$render(id,data);"+m+"}";b(t.split(n),function(e){var n=(e=e.split(a))[0],t=e[1];1===e.length?u+=r(n):(u+=o(n),t&&(u+=r(t)))}),t=u,i&&(t="try{"+t+"}catch(e){e.line=$line;throw e}"),t="'use strict';"+d+g[0]+t+"return new String("+g[3]+")";try{var v=Function("$data",t);return v.prototype=f,v}catch(e){throw e.temp="function anonymous($data) {"+t+"}",e}}}()})(r,this),"function"==typeof define?define(function(e,n,t){t.exports=r}):void 0!==exports&&(module.exports=r),module.exports=r});